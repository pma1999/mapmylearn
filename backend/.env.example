# Required API Keys
GOOGLE_API_KEY=your_google_api_key_here
PPLX_API_KEY=your_perplexity_api_key_here

# Tavily API Key (Optional - Needed if not using server-provided keys)
TAVILY_API_KEY="tvly-..."

# IMPORTANT: SERVER_SECRET_KEY is MANDATORY in production environments
# Generate a secure key with: openssl rand -hex 32
# Failure to set this in production will prevent the application from starting
SERVER_SECRET_KEY=your_secure_random_key_here

# Database configuration
DB_USER=postgres
DB_PASSWORD=password
DB_HOST=localhost
DB_PORT=5432
DB_NAME=mapmylearn
# Alternatively, provide a full connection string
# DATABASE_URL=postgresql://postgres:password@localhost:5432/mapmylearn

# JWT Authentication settings
JWT_SECRET_KEY=replace_with_secure_secret_key_in_production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Environment name (development, staging, production)
ENVIRONMENT=development

# Optional Settings
# LANGCHAIN_TRACING=true
# LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
# LANGCHAIN_API_KEY=your_langchain_api_key_here

# ---------- Email configuration ----------
# Provider choices:
#   sendgrid - use SendGrid transactional API (recommended for production; free tier available)
#   smtp     - use traditional SMTP server (useful for local dev with MailHog/smtp4dev)
#   none     - disable outgoing emails (useful for CI/tests)
EMAIL_PROVIDER=sendgrid

# SendGrid (transactional API) - set in production for reliable delivery
SENDGRID_API_KEY=your_sendgrid_api_key

# SMTP settings (used when EMAIL_PROVIDER=smtp or as a fallback)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=your_smtp_username
SMTP_PASSWORD=your_smtp_password
# Use TLS for STARTTLS-based SMTP (true/false)
SMTP_USE_TLS=true

# Default email addresses
DEFAULT_FROM_EMAIL=no-reply@example.com
EMAIL_REPLY_TO=support@example.com

# Frontend links used in verification/reset emails (no trailing slash)
EMAIL_VERIFY_URL_BASE=https://your-domain.com/verify-email
EMAIL_RESET_URL_BASE=https://your-domain.com/reset-password

# Email delivery tuning
# Request timeout in seconds for provider HTTP/SOCKET calls
EMAIL_TIMEOUT_SECONDS=10
# Retry policy parameters (simple exponential backoff)
EMAIL_RETRY_MAX_ATTEMPTS=3
EMAIL_RETRY_BACKOFF_SECONDS=2

# Local development notes:
# - For local testing you can run MailHog or smtp4dev and set:
#     EMAIL_PROVIDER=smtp
#     SMTP_HOST=localhost
#     SMTP_PORT=1025
#     SMTP_USE_TLS=false
# - For production prefer SENDGRID_API_KEY; do NOT commit secrets to git.
